<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QuÃ  12A4 â€” Nháº­p tÃªn Ä‘á»ƒ nháº­n lá»i chÃºc</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="wrap">
  <header>
    <h1>ğŸ QuÃ  báº¥t ngá» cho cÃ¡c báº¡n ná»¯ 12A4</h1>
    <p class="lead">Nháº­p tÃªn cá»§a báº¡n vÃ  máº­t kháº©u chung Ä‘á»ƒ má»Ÿ mÃ³n quÃ  riÃªng nhÃ©.</p>
  </header>

  <main class="card">
    <div class="form-row">
      <input id="name" type="search" placeholder="GÃµ tÃªn (vÃ­ dá»¥: Nguyá»…n Ngá»c Linh Giang)" autocomplete="off">
      <input id="pass" type="password" placeholder="Máº­t kháº©u chung">
      <button id="btn" class="btn">Má»Ÿ quÃ </button>
    </div>
    <div id="suggestions" class="suggestions"></div>

    <section id="profile" class="profile hidden" aria-hidden="true">
      <div class="profile-card">
        <h2 id="pname"></h2>
        <div id="poem" class="poem"></div>
        <div id="videoBox" class="videoBox"></div>
        <button id="copyLink" class="mini">Copy link cÃ¡ nhÃ¢n</button>
        <div class="note">Máº­t kháº©u chung lÃ : <strong>CÃ¡c báº¡n nam 12A4 Ä‘áº¹p trai</strong></div>
        <a id="back" class="back">â† Quay láº¡i</a>
      </div>
    </section>
  </main>

  <footer>Made with â¤ï¸ â€” Lá»›p 12A4</footer>
</div>

<script>
/* ====== Cáº¤U HÃŒNH ====== */
const PASSWORD = "CÃ¡c báº¡n nam 12A4 Ä‘áº¹p trai";

const PROFILES = [
  {
    "id": "duong-linh-anh",
    "name": "DÆ°Æ¡ng Linh Anh",
    "video": "",
    "poem": "Anh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Anh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-ngoc-linh-giang",
    "name": "Nguyá»…n Ngá»c Linh Giang",
    "video": "",
    "poem": "Giang Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Giang má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thanh-hang",
    "name": "Nguyá»…n Thanh Háº±ng",
    "video": "",
    "poem": "Háº±ng Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Háº±ng má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "phan-thi-my-hanh",
    "name": "Phan Thá»‹ Má»¹ Háº¡nh",
    "video": "",
    "poem": "Háº¡nh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Háº¡nh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "phan-thi-thanh-huyen",
    "name": "Phan Thá»‹ Thanh Huyá»n",
    "video": "",
    "poem": "Huyá»n Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Huyá»n má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "duong-thi-phuong-linh",
    "name": "DÆ°Æ¡ng Thá»‹ PhÆ°Æ¡ng Linh",
    "video": "",
    "poem": "Linh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Linh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "ha-thi-linh",
    "name": "HÃ  Thi Linh",
    "video": "",
    "poem": "Linh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Linh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "hoang-ha-linh",
    "name": "HoÃ ng HÃ  Linh",
    "video": "",
    "poem": "Linh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Linh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-ngoc-khanh-ly",
    "name": "Nguyá»…n Ngá»c KhÃ¡nh Ly",
    "video": "",
    "poem": "Ly Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Ly má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "duong-phan-thao-mi",
    "name": "DÆ°Æ¡ng Phan Tháº£o Mi",
    "video": "",
    "poem": "Mi Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Mi má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "pham-hoang-my",
    "name": "Pháº¡m HoÃ ng My",
    "video": "",
    "poem": "My Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc My má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "phan-thi-thuy-ngan",
    "name": "Phan Thá»‹ ThÃ¹y NgÃ¢n",
    "video": "",
    "poem": "NgÃ¢n Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc NgÃ¢n má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "duong-hoang-khanh-ngoc",
    "name": "DÆ°Æ¡ng HoÃ ng KhÃ¡nh Ngá»c",
    "video": "",
    "poem": "Ngá»c Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Ngá»c má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thanh-bao-ngoc",
    "name": "Nguyá»…n Thanh Báº£o Ngá»c",
    "video": "",
    "poem": "Ngá»c Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Ngá»c má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "vu-nhu-ngoc",
    "name": "VÅ© NhÆ° Ngá»c",
    "video": "",
    "poem": "Ngá»c Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Ngá»c má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "duong-thao-nguyen",
    "name": "DÆ°Æ¡ng Tháº£o NguyÃªn",
    "video": "",
    "poem": "NguyÃªn Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc NguyÃªn má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "pham-thi-anh-nguyet",
    "name": "Pháº¡m Thá»‹ Anh Nguyá»‡t",
    "video": "",
    "poem": "Nguyá»‡t Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Nguyá»‡t má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "pham-thi-thanh-nhan",
    "name": "Pháº¡m Thá»‹ Thanh NhÃ£n",
    "video": "",
    "poem": "NhÃ£n Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc NhÃ£n má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "ho-thi-uyen-nhi",
    "name": "Há»“ Thá»‹ Uyá»ƒn Nhi",
    "video": "",
    "poem": "Nhi Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Nhi má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "ton-nu-uyen-nhi",
    "name": "TÃ´n Ná»¯ Uyá»ƒn Nhi",
    "video": "",
    "poem": "Nhi Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Nhi má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "tran-ngoc-yen-nhi",
    "name": "Tráº§n Ngá»c Yáº¿n Nhi",
    "video": "",
    "poem": "Nhi Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Nhi má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "phan-thi-ha-ni",
    "name": "Phan Thá»‹ HÃ  Ni",
    "video": "",
    "poem": "Ni Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Ni má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thi-kieu-oanh",
    "name": "Nguyá»…n Thá»‹ Kiá»u Oanh",
    "video": "",
    "poem": "Oanh Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Oanh má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-hong-phuong",
    "name": "Nguyá»…n Há»“ng PhÆ°Æ¡ng",
    "video": "",
    "poem": "PhÆ°Æ¡ng Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc PhÆ°Æ¡ng má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "le-thi-ngoc-tam",
    "name": "LÃª Thá»‹ Ngá»c TÃ¢m",
    "video": "",
    "poem": "TÃ¢m Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc TÃ¢m má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "vo-thi-my-tam",
    "name": "VÃµ Thá»‹ Má»¹ TÃ¢m",
    "video": "",
    "poem": "TÃ¢m Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc TÃ¢m má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thi-hai-thuyet",
    "name": "Nguyá»…n Thá»‹ Háº£i Thuyáº¿t",
    "video": "",
    "poem": "Thuyáº¿t Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Thuyáº¿t má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "phan-hoai-thuong",
    "name": "Phan HoÃ i ThÆ°Æ¡ng",
    "video": "",
    "poem": "ThÆ°Æ¡ng Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc ThÆ°Æ¡ng má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "le-thi-hoai-trang",
    "name": "LÃª Thá»‹ HoÃ i Trang",
    "video": "",
    "poem": "Trang Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Trang má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-huyen-trang",
    "name": "Nguyá»…n Huyá»n Trang",
    "video": "",
    "poem": "Trang Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc Trang má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thi-cam-tu",
    "name": "Nguyá»…n Thi Cáº©m TÃº",
    "video": "",
    "poem": "TÃº Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc TÃº má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  },
  {
    "id": "nguyen-thanh-tam",
    "name": "Nguyá»…n Thanh TÃ¢m",
    "video": "",
    "poem": "TÃ¢m Æ¡i, ná»¥ cÆ°á»i nhÆ° náº¯ng sá»›m,\nÃnh nhÃ¬n dá»‹u dÃ ng, xua tan mÃ¹a mÆ°a.\nChÃºc TÃ¢m má»—i ngÃ y thÃªm ráº¡ng rá»¡, ngáº­p trÃ n yÃªu thÆ°Æ¡ng."
  }
];

/* ====== HÃ€M TIá»†N ÃCH ====== */
function normalize(s){
  if(!s) return "";
  s = s.toLowerCase();
  const map = {'Ã ':'a','Ã¡':'a','áº¡':'a','áº£':'a','Ã£':'a','Ã¢':'a','áº§':'a','áº¥':'a','áº­':'a','áº©':'a','áº«':'a','Äƒ':'a','áº±':'a','áº¯':'a','áº·':'a','áº³':'a','áºµ':'a',
               'Ã¨':'e','Ã©':'e','áº¹':'e','áº»':'e','áº½':'e','Ãª':'e','á»':'e','áº¿':'e','á»‡':'e','á»ƒ':'e','á»…':'e',
               'Ã¬':'i','Ã­':'i','á»‹':'i','á»‰':'i','Ä©':'i',
               'Ã²':'o','Ã³':'o','á»':'o','á»':'o','Ãµ':'o','Ã´':'o','á»“':'o','á»‘':'o','á»™':'o','á»•':'o','á»—':'o','Æ¡':'o','á»':'o','á»›':'o','á»£':'o','á»Ÿ':'o','á»¡':'o',
               'Ã¹':'u','Ãº':'u','á»¥':'u','á»§':'u','Å©':'u','Æ°':'u','á»«':'u','á»©':'u','á»±':'u','á»­':'u','á»¯':'u',
               'á»³':'y','Ã½':'y','á»µ':'y','á»·':'y','á»¹':'y','Ä‘':'d'};
  let out = "";
  for(const ch of s) out += map[ch] || ch;
  out = out.replace(/[^\w\s-]/g,"").replace(/\s+/g," ").trim();
  return out;
}

function buildLookup(){
  return PROFILES.map(p => ({...p, norm: normalize(p.name), idNorm: normalize(p.id || p.name.replace(/\s+/g,'-'))}));
}

const lookup = buildLookup();

function renderSuggestions(q){
  const el = document.getElementById('suggestions');
  el.innerHTML = "";
  if(!q) return;
  const nq = normalize(q);
  const matched = lookup.filter(p => p.norm.includes(nq) || p.idNorm.includes(nq)).slice(0,8);
  if(matched.length===0){
    el.innerHTML = "<div class='sug'>KhÃ´ng tÃ¬m tháº¥y. Thá»­ gÃµ khÃ´ng dáº¥u hoáº·c má»™t pháº§n tÃªn.</div>";
    return;
  }
  for(const p of matched){
    const d = document.createElement('div');
    d.className='sug';
    d.textContent = p.name;
    d.onclick = ()=>{ document.getElementById('name').value = p.name; el.innerHTML=''; };
    el.appendChild(d);
  }
}

/* ====== DOM ====== */
const nameInput = document.getElementById('name');
const passInput = document.getElementById('pass');
const btn = document.getElementById('btn');
const profile = document.getElementById('profile');
const pname = document.getElementById('pname');
const poemEl = document.getElementById('poem');
const videoBox = document.getElementById('videoBox');
const copyBtn = document.getElementById('copyLink');
const back = document.getElementById('back');

nameInput.addEventListener('input', e=> renderSuggestions(e.target.value));
nameInput.addEventListener('keydown', e=> { if(e.key==='Enter') passInput.focus(); });
passInput.addEventListener('keydown', e=> { if(e.key==='Enter') doOpen(); });
btn.addEventListener('click', doOpen);

function findUserByName(q){
  const nq = normalize(q);
  return lookup.find(p => p.norm === nq) || lookup.find(p => p.norm.includes(nq)) || lookup.find(p => p.idNorm === nq.replace(/\s+/g,'-'));
}

function doOpen(){
  const nameQ = nameInput.value.trim();
  const passQ = passInput.value.trim();
  if(!nameQ){ alert("Nháº­p tÃªn Ä‘i nhÃ©."); nameInput.focus(); return; }
  if(!passQ){ alert("Nháº­p máº­t kháº©u chung."); passInput.focus(); return; }
  if(normalize(passQ) !== normalize(PASSWORD)){ alert("Sai máº­t kháº©u chung. Gá»£i Ã½: CÃ¡c báº¡n nam 12A4 Ä‘áº¹p trai"); passInput.focus(); return; }
  const user = findUserByName(nameQ);
  if(!user){ alert("KhÃ´ng tÃ¬m tháº¥y tÃªn. Thá»­ gÃµ khÃ´ng dáº¥u hoáº·c má»™t pháº§n tÃªn."); return; }
  openProfile(user);
}

function openProfile(user){
  pname.textContent = user.name;
  poemEl.innerHTML = "<pre>"+(user.poem || "")+"</pre>";
  videoBox.innerHTML = "";
  if(user.video){
    // simple detection for youtube
    const y = user.video.match(/(youtu\.be\/|v=|\/shorts\/)([A-Za-z0-9_-]{4,})/);
    if(y){
      // embed id
      const id = user.video.includes('youtu') ? (user.video.includes('v=') ? (new URL(user.video).searchParams.get('v')) : user.video.split('/').pop()) : null;
      const src = id ? ("https://www.youtube.com/embed/"+id) : user.video;
      const iframe = document.createElement('iframe');
      iframe.src = src; iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture"; iframe.allowFullscreen = true;
      videoBox.appendChild(iframe);
    } else {
      const v = document.createElement('video'); v.controls = true;
      const s = document.createElement('source'); s.src = user.video; s.type = "video/mp4";
      v.appendChild(s); videoBox.appendChild(v);
    }
  }
  profile.classList.remove('hidden');
  profile.setAttribute('aria-hidden','false');
  // set hash for sharing
  location.hash = user.id;
  // hide form area visually (optional)
  // document.querySelector('.form-row').classList.add('hidden');
}

copyBtn.addEventListener('click', async ()=>{
  const id = location.hash.replace('#','') || normalize(nameInput.value).replace(/\s+/g,'-');
  const url = location.origin + location.pathname + "#" + id;
  try{
    await navigator.clipboard.writeText(url);
    copyBtn.textContent = "ÄÃ£ copy âœ“";
    setTimeout(()=> copyBtn.textContent = "Copy link cÃ¡ nhÃ¢n", 1500);
  }catch(e){
    alert("KhÃ´ng copy Ä‘Æ°á»£c tá»± Ä‘á»™ng, mÃ y copy thá»§ cÃ´ng link trÃªn thanh Ä‘á»‹a chá»‰ nhÃ©.");
  }
});

back.addEventListener('click', ()=>{
  profile.classList.add('hidden');
  profile.setAttribute('aria-hidden','true');
  location.hash = "";
});

// If loaded with #id, prefill name input
window.addEventListener('load', ()=>{
  const h = location.hash.replace('#','');
  if(!h) return;
  const u = lookup.find(x=> x.id===h || x.idNorm===h);
  if(u){ nameInput.value = u.name; renderSuggestions(u.name); }
});
</script>
</body>
</html>
